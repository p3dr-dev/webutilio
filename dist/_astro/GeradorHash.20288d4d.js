import{j as e}from"./jsx-runtime.3a2d0367.js";import{r as a}from"./index.b2a7ed32.js";import{u as w}from"./utils.311eb264.js";import{u as G,L as C}from"./useLoadingPhrases.57f5e175.js";const R=({lang:b})=>{const r=w(b),[t,g]=a.useState(""),[p,d]=a.useState(""),[l,m]=a.useState(""),[u,s]=a.useState(null),[o,c]=a.useState(!1),[h,i]=a.useState(null),y=G(o),f=a.useCallback(async()=>{if(!t){d(""),s(null);return}if(c(!0),s(null),!crypto.subtle){i(r("components.hashGenerator.errorCryptoNotAvailable")),c(!1);return}try{const j=new TextEncoder().encode(t),v=await crypto.subtle.digest("SHA-256",j),x=Array.from(new Uint8Array(v)).map(N=>N.toString(16).padStart(2,"0")).join("");d(x),l&&(x.toLowerCase()===l.toLowerCase()?s("match"):s("no-match"))}catch(n){console.error("Erro ao gerar hash:",n),i(r("components.hashGenerator.errorGeneratingHash")),s(null)}finally{c(!1)}},[t,l]),k=()=>{g(""),d(""),m(""),s(null),i(null)};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md dark:bg-gray-800",children:[o&&e.jsx(C,{text:y}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{className:"w-full h-40 p-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-shadow dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",placeholder:r("components.hashGenerator.placeholder"),value:t,onChange:n=>g(n.target.value),disabled:o}),t&&e.jsx("button",{onClick:k,className:"absolute top-2 right-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:r("components.hashGenerator.clear")})]}),e.jsx("button",{onClick:f,disabled:o||!t,className:"mt-4 w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-md hover:bg-purple-700 disabled:bg-purple-300 transition-colors dark:disabled:bg-purple-800",children:r(o?"components.hashGenerator.generating":"components.hashGenerator.generateButton")}),h&&e.jsx("p",{className:"text-red-500 mt-4 text-center",children:h}),p&&!h&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-md dark:bg-gray-700",children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300",children:r("components.hashGenerator.generatedHash")}),e.jsx("p",{className:"text-sm text-gray-800 break-all font-mono dark:text-gray-200",children:p})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300",children:r("components.hashGenerator.verifyOptional")}),e.jsx("input",{type:"text",className:"mt-2 w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 transition-shadow dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",placeholder:r("components.hashGenerator.verifyPlaceholder"),value:l,onChange:n=>m(n.target.value),disabled:o}),u==="match"&&e.jsx("p",{className:"mt-2 text-green-600 font-bold dark:text-green-400",children:r("components.hashGenerator.match")}),u==="no-match"&&e.jsx("p",{className:"mt-2 text-red-600 font-bold dark:text-red-400",children:r("components.hashGenerator.noMatch")})]})]})};export{R as default};
