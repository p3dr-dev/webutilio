import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{r as a}from"./index.yGrMsBkE.js";import{u as w}from"./utils.BtV3MdL8.js";import"./index.yBjzXJbu.js";const S=({lang:g})=>{const r=w(g),[s,x]=a.useState(""),[h,i]=a.useState(""),[n,b]=a.useState(""),[p,o]=a.useState(null),[l,d]=a.useState(!1),[c,m]=a.useState(null),f=a.useCallback(async()=>{if(!s){i(""),o(null);return}if(d(!0),o(null),!crypto.subtle){m(r("components.hashGenerator.errorCryptoNotAvailable")),d(!1);return}try{const y=new TextEncoder().encode(s),k=await crypto.subtle.digest("SHA-256",y),u=Array.from(new Uint8Array(k)).map(j=>j.toString(16).padStart(2,"0")).join("");i(u),n&&(u.toLowerCase()===n.toLowerCase()?o("match"):o("no-match"))}catch(t){console.error("Erro ao gerar hash:",t),m(r("components.hashGenerator.errorGeneratingHash")),o(null)}finally{d(!1)}},[s,n]);return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md dark:bg-gray-800",children:[e.jsx("textarea",{className:"w-full h-40 p-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-shadow dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",placeholder:r("components.hashGenerator.placeholder"),value:s,onChange:t=>x(t.target.value),disabled:l}),e.jsx("button",{onClick:f,disabled:l||!s,className:"mt-4 w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-md hover:bg-purple-700 disabled:bg-purple-300 transition-colors dark:disabled:bg-purple-800",children:r(l?"components.hashGenerator.generating":"components.hashGenerator.generateButton")}),c&&e.jsx("p",{className:"text-red-500 mt-4 text-center",children:c}),h&&!c&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-md dark:bg-gray-700",children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300",children:r("components.hashGenerator.generatedHash")}),e.jsx("p",{className:"text-sm text-gray-800 break-all font-mono dark:text-gray-200",children:h})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300",children:r("components.hashGenerator.verifyOptional")}),e.jsx("input",{type:"text",className:"mt-2 w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 transition-shadow dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",placeholder:r("components.hashGenerator.verifyPlaceholder"),value:n,onChange:t=>b(t.target.value),disabled:l}),p==="match"&&e.jsx("p",{className:"mt-2 text-green-600 font-bold dark:text-green-400",children:r("components.hashGenerator.match")}),p==="no-match"&&e.jsx("p",{className:"mt-2 text-red-600 font-bold dark:text-red-400",children:r("components.hashGenerator.noMatch")})]})]})};export{S as default};
