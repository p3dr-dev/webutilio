---
import Layout from '../../layouts/Layout.astro';
import en from '../../i18n/en.json';
---

<Layout title="Feedback - SLIT.IO" description="Leave your feedback and suggestions for SLIT.IO." lang="en">
  <section class="container mx-auto px-6 py-12 text-center">
    <h1 class="text-4xl font-bold text-gray-800 dark:text-gray-100 mb-6">Leave your Feedback</h1>
    <p class="max-w-3xl mx-auto text-lg text-gray-600 dark:text-gray-300 mb-12">
      Your opinion is very important to us! Use the form below to suggest new tools,
      report problems, or simply tell us your favorite tool.
    </p>

    <div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md">
      <form id="feedback-form">
        <div class="mb-6">
          <label for="name" class="block text-left text-gray-700 dark:text-gray-200 font-bold mb-2">{en.components.feedbackForm.nameLabel}</label>
          <input type="text" id="name" name="name" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder={en.components.feedbackForm.namePlaceholder}>
        </div>
        <div class="mb-6">
          <label for="email" class="block text-left text-gray-700 dark:text-gray-200 font-bold mb-2">{en.components.feedbackForm.emailLabel}</label>
          <input type="email" id="email" name="email" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder={en.components.feedbackForm.emailPlaceholder}>
        </div>
        <div class="mb-6">
          <label for="message" class="block text-left text-gray-700 dark:text-gray-200 font-bold mb-2">{en.components.feedbackForm.messageLabel}</label>
          <textarea id="message" name="message" rows="5" class="w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder={en.components.feedbackForm.messagePlaceholder} required></textarea>
        </div>
        <button type="submit" class="w-full bg-purple-600 text-white font-bold py-3 px-4 rounded-md hover:bg-purple-700 transition-colors">
          {en.components.feedbackForm.submitButton}
        </button>
      </form>
    </div>

    <p class="mt-12 text-gray-500 dark:text-gray-400">
      Thank you for your time and contribution!
    </p>
  </section>
</Layout>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('feedback-form');
    form.addEventListener('submit', function(event) {
      event.preventDefault();
      
      const name = form.elements.name.value;
      const email = form.elements.email.value;
      const message = form.elements.message.value;
      
      const subject = `SLIT.IO Feedback - from ${name || 'Anonymous User'}`;
      
      let body = `Feedback received:\n\n`;
      body += `Name: ${name || 'Not provided'}\n`;
      body += `Email: ${email || 'Not provided'}\n`;
      body += `-------------------------------------\n\n`;
      body += `${message}`;
      
      window.location.href = `mailto:pedrosimoescontato17@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    });
  });
</script>
