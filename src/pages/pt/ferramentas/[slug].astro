---
import Layout from '../../../layouts/Layout.astro';
import ToolLoader from '../../../components/tools/ToolLoader.tsx';
import { tools as toolsData } from '../../../data/tools'; // Dados estruturais
import pt from '../../../i18n/pt.json'; // Dicionário em português

export async function getStaticPaths() {
  return toolsData.map(tool => ({
    params: { slug: tool.slug },
    props: { slug: tool.slug }
  }));
}

const { slug } = Astro.props;
const toolTranslations = pt.tools[slug]; // Pega a tradução da ferramenta
---

<Layout
  title={`${toolTranslations.title} - SLIT.IO`}
  description={toolTranslations.description}
  lang={pt.site.lang}
>
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": toolTranslations.title,
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "BRL"
    },
    "description": toolTranslations.description
  })} />

  <div class="max-w-4xl mx-auto">
    <div class="text-center border-b border-gray-200 dark:border-gray-700 pb-6 mb-8">
      <h1 class="text-4xl font-bold text-gray-800 dark:text-gray-100">{toolTranslations.title}</h1>
      <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">{toolTranslations.description}</p>
    </div>
    <ToolLoader slug={slug} lang="pt" client:only="react" />
    <p class="text-center text-sm text-gray-500 dark:text-gray-400 mt-8">
      Gostou desta ferramenta? Considere <a href="/pt/apoie" class="underline hover:text-purple-600 dark:hover:text-purple-400">apoiar o projeto</a> para que ele continue gratuito e sem anúncios.
    </p>
  </div>
</Layout>
